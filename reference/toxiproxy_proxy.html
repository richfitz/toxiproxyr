<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Toxiproxy proxy — toxiproxy_proxy • toxiproxyr</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Toxiproxy proxy — toxiproxy_proxy" />

<meta property="og:description" content="Toxic proxies are created by the $create method of the
toxiproxy_client and returned by the $get
method.  They are R6 methods with methods and fields, which are" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">toxiproxyr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/richfitz/toxiproxyr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Toxiproxy proxy</h1>
    <small class="dont-index">Source: <a href='https://github.com/richfitz/toxiproxyr/blob/master/R/toxiproxy_proxy.R'><code>R/toxiproxy_proxy.R</code></a></small>
    <div class="hidden name"><code>toxiproxy_proxy.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Toxic proxies are created by the <code>$create</code> method of the
<code><a href='toxiproxy_client.html'>toxiproxy_client</a></code> and returned by the <code>$get</code>
method.  They are R6 methods with methods and fields, which are</p>
    
    </div>

        
    <h2 class="hasAnchor" id="methods"><a class="anchor" href="#methods"></a>Methods</h2>

    
    <p><br /></p><dl class='dl-horizontal'>
<dt><code>name</code></dt><dd><p>The name of the proxy (a string).  This is used in methods <code>$get</code> and <code>remove</code> of <code><a href='toxiproxy_client.html'>toxiproxy_client</a></code>. This field is read only.</p></dd>
<dt><code>listen</code></dt><dd><p>The address that the proxied service is available on.  This will be in the form <code>host:port</code> (e.g., <code>localhost:22222</code>. The field <code>listen_port</code> give the port number separately. Assigning to this field will update the listen address of the proxy (equivalent to using <code>$update_proxy</code>).</p></dd>
<dt><code>listen_port</code></dt><dd><p>The port that the proxied service is available on.  Assigning to this field will update the listen address of the proxy (equivalent to using <code>$update_proxy</code>), but will retain the current hostname.</p></dd>
<dt><code>upstream</code></dt><dd><p>The address that the upstream service (that is being proxied) is found at.  The toxic proxy forwards traffic here.  This will in the form <code>host:port</code> (e.g., <code>localhost:80</code>.  Assigning to this field will update the upstream address of the proxy (equivalent to using <code>$update_proxy</code>).</p></dd>
<dt><code>enabled</code></dt><dd><p>Logical scalar, indicating if the proxy is enabled (i.e., allowing traffic).  If a proxy is enabled then all toxics on that proxy are enabled.  Assigning to this field enables or disables the proxy (with a value of <code>TRUE</code> and <code>FALSE</code> respectively), equivalent to using <code>$update_proxy</code>.</p></dd>
<dt><code>describe</code></dt><dd><p>Query for the current information about this proxy.  Returns a named list.
  <br /><em>Usage:</em><code>describe()</code></p></dd>
<dt><code>add</code></dt><dd><p>Add toxics to the proxy.  Returns the name of the created toxic.
    Use <code>$list())</code> to see what has been added to the proxy.
  <br /><em>Usage:</em><code>add(type, stream = "downstream", toxicity = 1, attributes = list(),
      name = NULL)</code>
  <br /><em>Arguments:</em>
  <ul>
<li><p><code>type</code>:   Either a <code><a href='toxic.html'>toxic</a></code> object (e.g., <code><a href='toxic.html'>latency</a></code>) or the name of one as a scalar character.</p></li>
<li><p><code>stream</code>:   The stream to apply the proxy to.  Must be either <code>"downstream"</code> (the default) or <code>"upstream"</code>).</p></li>
<li><p><code>toxicity</code>:   Scalar numeric indicating the <em>probability</em> of the proxy being applied to the connection.</p></li>
<li><p><code>attributes</code>:   If <code>type</code> is a character string, a named list of attributes (see <a href='https://github.com/shopify/toxiproxy#toxics'>the toxiproxy documentation</a>).  If <code>type</code> is a <code>toxic</code> object this must be empty.</p></li>
<li><p><code>name</code>:   Name to call the toxic.  If omitted, the toxiproxy server will generate a name automatically.</p></li>
</ul></p></dd>
<dt><code>list</code></dt><dd><p>List toxics that have been added to the proxy.  This will be returned as a <code>data.frame</code>.
  <br /><em>Usage:</em><code><a href='https://www.rdocumentation.org/packages/base/topics/list'>list()</a></code></p></dd>
<dt><code>remove</code></dt><dd><p>Remove a toxic from the proxy.
  <br /><em>Usage:</em><code><a href='https://www.rdocumentation.org/packages/base/topics/rm'>remove(name)</a></code>
  <br /><em>Arguments:</em>
  <ul>
<li><p><code>name</code>:   Name of the toxic to remove - use <code>names($list())</code> to get a list of names of toxics present for a proxy.</p></li>
</ul></p></dd>
<dt><code>info</code></dt><dd><p>Get information about a toxic from the proxy by name.  This returns a named list.
  <br /><em>Usage:</em><code>info(name)</code>
  <br /><em>Arguments:</em>
  <ul>
<li><p><code>name</code>:   A single string with the name of the toxic to be retrieved.  It is an error to try and get an nonexistant toxic.</p></li>
</ul></p></dd>
<dt><code>update_toxic</code></dt><dd><p>Update attributes of a toxic
  <br /><em>Usage:</em><code>update_toxic(name, attributes)</code>
  <br /><em>Arguments:</em>
  <ul>
<li><p><code>name</code>:   Name of the toxic to update.</p></li>
<li><p><code>attributes</code>:   A named list of attributes for the toxic.  Use <code>$info()</code> to see what is valid for your toxic, or see <a href='https://github.com/shopify/toxiproxy#toxics'>the toxiproxy documentation</a>.</p></li>
</ul></p></dd>
<dt><code>update_proxy</code></dt><dd><p>Update attributes of the proxy.  Values not provided will not be modified from their current values.
  <br /><em>Usage:</em><code>update_proxy(upstream = NULL, listen = NULL, enabled = NULL)</code>
  <br /><em>Arguments:</em>
  <ul>
<li><p><code>upstream</code>:   Upstream address in the format <code>&lt;host&gt;:&lt;port&gt;</code></p></li>
<li><p><code>listen</code>:   Listen address in the format <code>&lt;host&gt;:&lt;port&gt;</code></p></li>
<li><p><code>enabled</code>:   Logical scalar indicating if the proxy should be enabled</p></li>
</ul></p></dd>
<dt><code>with_down</code></dt><dd><p>Like <code>$with</code>, this runs an R expression with the proxy temporarily down (so that no traffic can be transmitted or recieved).  The state of the proxy will be restored after the expression has evaluated, even if it throws an error.
  <br /><em>Usage:</em><code>with_down(expr)</code>
  <br /><em>Arguments:</em>
  <ul>
<li><p><code>expr</code>:   An R expression that will be run with the proxy disabled.</p></li>
</ul></p></dd>
</dl>
    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      
      <li><a href="#methods">Methods</a></li>
          </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Rich Last.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

